<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- HTML Meta Tags -->
    <title>לומדה שנוצרה בעזרת מחולל הלומדות של מדור טי"ל</title>
    <meta name="description" content="">

    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://madortill.github.io/generic-cards/code/">
    <meta property="og:type" content="website">
    <meta property="og:title" content='לומדה שנוצרה בעזרת מחולל הלומדות של מדור טי"ל'>
    <meta property="og:description" content="">
    <meta property="og:image" content="https://madortill.github.io/generic-cards/assets/till_logo.svg">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="madortill.github.io">
    <meta property="twitter:url" content="https://madortill.github.io/generic-cards/code/">
    <meta name="twitter:title" content='לומדה שנוצרה בעזרת מחולל הלומדות של מדור טי"ל'>
    <meta name="twitter:description" content="">
    <meta name="twitter:image" content="https://madortill.github.io/generic-cards/assets/till_logo.svg">

    <!-- Meta Tags Generated via https://www.opengraph.xyz -->


    <!-- stylesheet -->
    <link rel="stylesheet" href="mobile-css/generalStyle.css" type="text/css"
        media="(pointer: coarse), (pointer: none)">
    <link rel="stylesheet" href="computer-css/generalStyleC.css" type="text/css"
        media="(any-pointer:fine), (min-width:1200px)">

    <link rel="stylesheet" href="mobile-css/opening.css" type="text/css" media="(pointer: coarse), (pointer: none)">
    <link rel="stylesheet" href="computer-css/openingC.css" type="text/css"
        media="(any-pointer:fine), (min-width:1200px)">


    <link rel="stylesheet" href="mobile-css/home.css" type="text/css" media="(pointer: coarse), (pointer: none)">
    <link rel="stylesheet" href="computer-css/homeC.css" type="text/css" media="(any-pointer:fine), (min-width:1200px)">

    <link rel="stylesheet" href="mobile-css/about.css" type="text/css" media="(pointer: coarse), (pointer: none)">
    <link rel="stylesheet" href="computer-css/aboutC.css" type="text/css" media="(any-pointer:fine)">

    <link rel="stylesheet" href="mobile-css/practice.css" type="text/css" media="(pointer: coarse), (pointer: none)">
    <link rel="stylesheet" href="computer-css/practiceC.css" type="text/css" media="(any-pointer:fine)">

    <link rel="stylesheet" href="mobile-css/learning.css" type="text/css" media="(pointer: coarse), (pointer: none)">
    <link rel="stylesheet" href="computer-css/learningC.css" type="text/css" media="(any-pointer:fine)">

    <link rel="stylesheet" href="mobile-css/exam.css" type="text/css" media="(pointer: coarse), (pointer: none)">
    <link rel="stylesheet" href="computer-css/examC.css" type="text/css" media="(any-pointer:fine)">

    <link rel="stylesheet" href="mobile-css/search.css" type="text/css" media="(pointer: coarse), (pointer: none)">
    <link rel="stylesheet" href="computer-css/searchC.css" type="text/css" media="(any-pointer:fine)">
    <script>
        const I18N = {
            he: {
                "opening.wait": "חכו בסבלנות...",
                "opening.tap": "לחצו על המסך להמשך",
                "home.learn": "למדו את נושאי השיעור השונים",
                "search.placeholder": "הקלידו כדי לחפש",
                "practice.correct": "נכונות",
                "practice.total": "בסה\"כ",
                "subjects.choose": "בחרו נושא אותו תרצו ללמוד",
                "about.headOfDept": "ראש מדור טי\"ל",
                "about.innovationLead": "ראש תחום מו\"פ וחדשנות בלמידה",
                "about.developer": "מפתחת לומדה",
                "about.uxui": "מעצב UX & UI",
                "about.sme": "מומחה תוכן",
                "about.generatorAuthor": "יוצרת המחולל:",
                "about.contact": "צור קשר:"
            },
            en: {
                "opening.wait": "Please wait...",
                "opening.tap": "Tap to continue",
                "home.learn": "Learn the lesson topics",
                "search.placeholder": "Type to search",
                "practice.correct": "Correct",
                "practice.total": "Total",
                "subjects.choose": "Choose a topic to learn",
                "about.headOfDept": "Head of TIL Department",
                "about.innovationLead": "Head of R&D & Learning Innovation",
                "about.developer": "Courseware Developer",
                "about.uxui": "UX & UI Designer",
                "about.sme": "Subject Matter Expert",
                "about.generatorAuthor": "Generator author:",
                "about.contact": "Contact:"
            },
            ru: {
                "opening.wait": "Пожалуйста, подождите...",
                "opening.tap": "Нажмите, чтобы продолжить",
                "home.learn": "Изучайте темы урока",
                "search.placeholder": "Введите для поиска",
                "practice.correct": "Верные",
                "practice.total": "Всего",
                "subjects.choose": "Выберите тему для изучения",
                "about.headOfDept": "Руководитель отдела TIL",
                "about.innovationLead": "Руководитель R&D и инноваций в обучении",
                "about.developer": "Разработчик учебных материалов",
                "about.uxui": "Дизайнер UX & UI",
                "about.sme": "Эксперт по предмету",
                "about.generatorAuthor": "Автор генератора:",
                "about.contact": "Контакты:"
            },
            ar: {
                "opening.wait": "يرجى الانتظار...",
                "opening.tap": "اضغط للمتابعة",
                "home.learn": "تعرّفوا على مواضيع الدرس",
                "search.placeholder": "اكتب للبحث",
                "practice.correct": "صحيح",
                "practice.total": "المجموع",
                "subjects.choose": "اختاروا موضوعًا للتعلم",
                "about.headOfDept": "رئيس قسم TIL",
                "about.innovationLead": "رئيس البحث والتطوير وابتكار التعلم",
                "about.developer": "مطوّر مواد تعليمية",
                "about.uxui": "مصمّم UX وUI",
                "about.sme": "خبير محتوى",
                "about.generatorAuthor": "منشئ المُولّد:",
                "about.contact": "تواصل:"
            }
        };
        function applyI18n(lang) {
            const dict = (I18N && (I18N[lang] || I18N.en)) || {};
            // תרגום טקסטים לפי data-i18n
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (dict[key]) el.textContent = dict[key];
            });
            // תרגום Attributes (למשל placeholder)
            document.querySelectorAll('[data-i18n-attr]').forEach(el => {
                const pairs = el.getAttribute('data-i18n-attr').split(',').map(s => s.trim());
                pairs.forEach(p => {
                    const [attr, key] = p.split(':');
                    if (attr && key && dict[key]) el.setAttribute(attr.trim(), dict[key]);
                });
            });
        }
    </script>
    <script>
        // מריץ applyI18n מיד כשנקבעת שפה, וברגע שה-DOM מוכן
        window.__i18nAfterLang = function () {
            const run = () => {
                const lang = document.documentElement.lang || 'en';
                if (typeof applyI18n !== 'function') { setTimeout(run, 0); return; }

                // תרגום טקסטים
                applyI18n(lang);

                // כיתות עזר לפי כיוון
                const isRTL = document.documentElement.dir === 'rtl';
                document.body.classList.toggle('rtl', isRTL);
                document.body.classList.toggle('ltr', !isRTL);

                // כיוון/שפה לשדות קלט
                document.querySelectorAll('input, textarea, [contenteditable="true"]').forEach(el => {
                    el.setAttribute('dir', document.documentElement.dir);
                    el.setAttribute('lang', lang);
                });
            };

            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', run, { once: true });
            } else {
                run();
            }
        };
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const lang = await window.langReady;

            // ריצה ראשונית
            applyI18n(lang);

            const setDirOnControls = () => {
                document.querySelectorAll('input, textarea, [contenteditable="true"]').forEach(el => {
                    el.setAttribute('dir', document.documentElement.dir);
                    el.setAttribute('lang', lang);
                });
            };
            setDirOnControls();

            // חדש: לרענן תרגום כשנוספים/משתנים אלמנטים
            let rafPending = false;
            const mo = new MutationObserver(() => {
                if (rafPending) return;
                rafPending = true;
                requestAnimationFrame(() => {
                    applyI18n(lang);    // מתרגם אלמנטים שנוספו/הוחלפו
                    setDirOnControls(); // משלים dir/lang לשדות חדשים
                    rafPending = false;
                });
            });
            mo.observe(document.body, { childList: true, subtree: true, characterData: true });
        });
    </script>
    <script>
        // מחכים להחלטת השפה (כולל כפייה ידנית)
        window.langReady = new Promise((resolve) => {
            let resolved = false;
            function done() {
                if (!resolved) {
                    resolved = true;
                    resolve(document.documentElement.lang || 'en');
                }
            }
            // פותח אופציה להזניק מבחוץ
            window.__notifyLangReady = done;
            // fallback אם משהו השתבש
            setTimeout(done, 600);
        });
    </script>
    <script>
        (function () {
            const url = new URL(location.href);
            const force = (url.searchParams.get('lang') || '').toLowerCase();
            const rtlSet = new Set(['he', 'ar', 'fa', 'ur']);

            if (force) {
                document.documentElement.lang = force;
                document.documentElement.dir = rtlSet.has(force) ? 'rtl' : 'ltr';
                window.__LANG_DECIDED = force;
                // חשוב: להודיע שהשפה נקבעה גם בכפייה
                window.__notifyLangReady && window.__notifyLangReady();
                window.__i18nAfterLang && window.__i18nAfterLang();
                return;
            }

            const path = url.searchParams.get('path');
            if (!path) {
                // אין JSON – בכל זאת נריץ i18n על ברירת מחדל
                window.__notifyLangReady && window.__notifyLangReady();
                window.__i18nAfterLang && window.__i18nAfterLang();
                return;
            }

            if (!document.documentElement.hasAttribute('dir')) {
                document.documentElement.setAttribute('dir', 'ltr');
            }

            fetch(`../data/${path}/${path}.json`)
                .then(r => r.json())
                .then(d => {
                    const parts = [];
                    if (d?.TITLE?.name) parts.push(d.TITLE.name);
                    const sample = JSON.stringify(d?.DATA || '').slice(0, 4000);
                    parts.push(sample);
                    const text = parts.join(' ');

                    const hasHeb = /[\u0590-\u05FF]/.test(text);
                    const hasArab = /[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF]/.test(text);
                    const hasCyr = /[\u0400-\u04FF\u0500-\u052F]/.test(text);

                    let lang = 'en';
                    if (hasHeb) lang = 'he';
                    else if (hasArab) {
                        if (/[\u067E\u0686\u0698\u06AF\u06A9\u06CC]/.test(text)) lang = 'fa';
                        else if (/[\u0679\u0688\u0691\u06BA\u06D2\u06C1]/.test(text)) lang = 'ur';
                        else lang = 'ar';
                    } else if (hasCyr) lang = 'ru';

                    document.documentElement.lang = lang;
                    document.documentElement.dir = rtlSet.has(lang) ? 'rtl' : 'ltr';
                    window.__LANG_DECIDED = lang;
                    // חשוב: להודיע שהשפה נקבעה
                    window.__notifyLangReady && window.__notifyLangReady();
                    window.__i18nAfterLang && window.__i18nAfterLang();
                })
                .catch(() => {
                    // עדיין מריצים i18n על ברירת מחדל
                    window.__notifyLangReady && window.__notifyLangReady();
                    window.__i18nAfterLang && window.__i18nAfterLang();
                });
        })();
    </script>

    <!-- javascript -->
    <script src="index.js" defer></script>
    <script src="../assets/libs/svg-loader.min.js" defer></script>
    <script src="util.js" defer></script>
    <script src="processData.js" defer></script>
    <script src="animateDims.js" defer></script>


    <title> לומדה שנוצרה בעזרת מחולל הלומדות של מדור טי"ל </title>
</head>

<body>
    <svg data-src="../assets/images/general/bg.svg" class="background-image absolute"></svg>
    <div class="main">

        <!-- עמוד פתיחה -->
        <div class="page opening active">
            <div class="opaning-overlay">
                <div class="expand">
                    <img class="sub-title" src="../assets/images/opening/Balmas_txt.svg" />
                </div>
                <div class="title" data-i18n="opening.wait">חכו בסבלנות...</div>
                <div class="expand container-scrolling_icon"></div>
                <div class="sub-title" data-i18n="opening.tap">לחצו על המסך להמשך</div>
            </div>
        </div>

        <!-- עמוד ראשי -->
        <div class="page home">
            <svg class="about" data-src="../assets/images/opening/about_btn.svg" alt="about"></svg>
            <svg class="books" data-src="../assets/images/opening/homeGraphic_icon.svg" alt="homeGraphic_icon"></svg>
            <div class="textArea">
                <div class="text" data-i18n="home.learn">למדו את נושאי השיעור השונים</div>
            </div>
        </div>

        <!-- אודות -->
        <div class="page about">
            <svg class="back-btn" data-src="../assets/images/general/back_btn.svg"></svg>
            <svg class="about_header" data-src="../assets/images/opening/about_header.svg"></svg>

            <div class="card-container">
                <svg class="card" data-src="../assets/images/learning/learning.svg"></svg>
                <div class="text">
                    <div class="container-titles">
                        <div data-i18n="about.headOfDept">ראש מדור טי"ל</div>
                        <div>רס"ן מיגל לויתן</div>
                    </div>

                    <div class="container-titles">
                        <div data-i18n="about.innovationLead">ראש תחום מו"פ וחדשנות בלמידה</div>
                        <div>סמ"ר גל גנסין</div>
                    </div>
                    
                    <div class="container-titles">
                        <div data-i18n="about.developer">מפתחת לומדה</div>
                        <div>סמל הלה צביון</div>
                    </div>


                    <div class="container-titles">
                        <div data-i18n="about.uxui">מעצב UX & UI</div>
                        <div>סמל דור סגיב</div>
                    </div>

                    <div class="container-titles">
                        <div data-i18n="about.sme">מומחה תוכן</div>
                        <div id="expert-name">---</div>
                    </div>

                    <div class="container-titles">
                        <div data-i18n="about.generatorAuthor">יוצרת המחולל:</div>
                        <div>סמל תמר סטופ</div>
                    </div>

                    <div class="container-titles">
                        <div data-i18n="about.contact">צור קשר:</div>
                        <a href="mailto:madortill@gmail.com">madortill@gmail.com</a>
                    </div>

                </div>
            </div>

            <!-- <svg class="logo" data-src="../assets/images/opening/madorTill_header.svg"></svg> -->
        </div>

        <!-- עמוד נושאי הלימוד -->
        <div class="page learning subjects ">
            <div class="title"></div>
            <div class="sub-title" data-i18n="subjects.choose">בחרו נושא אותו תרצו ללמוד </div>
            <div class="cards-container scrollStyle"></div>
            <div class="gradient"></div>
            <div class="buttons">
                <svg data-src="../assets/images/general/practice-btn-homePage.svg" alt="practice_btn"
                    class="button practice-btn"></svg>
                <svg data-src="../assets/images/general/exam_btn.svg" alt="exam_btn" class="button exam-btn"></svg>
            </div>
        </div>

        <!-- עמוד תתי נושאי הלימוד -->
        <div class="page learning content">
            <div class="title"></div>
            <div class="cards-container scrollStyle"></div>
            <div class="gradient"></div>
            <div class="templates">
                <!-- כרטיסייה עם כותרת וטקסט -->
                <template class="text">
                    <div class="title" dir="auto"></div>
                    <div class="content" dir="auto"></div>
                </template>
                <!-- כרטיסייה עם כותרת, תמונה וטקסט -->
                <template class="pic-and-text">
                    <div class="title" dir="auto"></div>
                    <img class="pic" />
                    <div class="content" dir="auto"></div>
                </template>
                <!-- כרטיסייה עם כותרת, סרטון וטקסט -->
                <template class="video-and-text">
                    <div class="title" dir="auto"></div>
                    <video class="video" controls></video>
                    <div class="content" dir="auto"></div>

                </template>
                <!--  יוטיוב וידאו עם טקסט -->
                <template class="youtube">
                    <div class="title" dir="auto"></div>
                    <iframe width="100%" class="youtubeIframe" src="" frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen></iframe>
                    <div class="content" dir="auto"></div>
                </template>
                <!-- כרטיסייה עם כותרת, תת כותרת ורשימה של שלושה בולטים-->
                <template class="list-dots">
                    <div class="title" dir="auto"></div>
                    <ul class="list">
                    </ul>
                </template>
                <!-- כרטיסייה עם כותרת, תת כותרת ורשימה של שלושה בולטים-->
                <template class="list-numbers">
                    <div class="title" dir="auto"></div>
                    <ol class="list">
                    </ol>
                </template>
                <template class="free-form">
                    <div class="title" dir="auto"></div>
                    <div class="content" dir="auto"></div>
                </template>
            </div>
        </div>

        <!-- עמוד תרגול -->
        <div class="page practice scrollStyle">
            <svg class="title" data-src="../assets/images/practice/practice_header.svg" alt="title"></svg>
            <div class="score">
                <svg class="background-image absolute" data-src="../assets/images/practice/questionLog.svg"></svg>
                <div class="right-answers">
                    <div class="points">0</div>
                    <div class="points-text" data-i18n="practice.correct">נכונות</div>
                </div>
                <div class="sum-answers">
                    <div class="points"></div>
                    <div class="points-text" data-i18n="practice.total">בסה"כ</div>
                </div>
            </div>

            <div class="container-questions"></div>
            <div class="buttons">
                <svg class="btn half-half" data-src="../assets/images/practice/halfhalf_btn.svg"
                    alt="halfhalf_btn"></svg>
                <svg class="btn show-answer" data-src="../assets/images/practice/show_btn.svg" alt="show_btn"></svg>
            </div>
        </div>

        <!-- עמוד מבחן -->
        <div class="page exam scrollStyle">
            <div class="header">
                <svg data-src="../assets/images/exam/exam_header.svg" class="title"></svg>
                <div class="sub-titles">
                    <div class="questionNumber">
                        <svg class="background-image absolute"
                            data-src="../assets/images/exam/questionNumber.svg"></svg>
                        <div class="questionNumber-text"></div>
                    </div>
                    <div class="timer">
                        <svg class="background-image absolute" data-src="../assets/images/exam/timer.svg"></svg>
                        <div class="timer-text"></div>
                    </div>
                </div>
            </div>
            <div class="questions-container"></div>
            <div class="questions-number"></div>
        </div>
    </div>

    <!-- search -->
    <div class="searchScreen">
        <div class="searchBoxHolder hidden">
            <svg class="bg-img" data-src="../assets/images/general/search-box.svg" alt="search box container"></svg>
            <input class="searchBox hidden" data-i18n-attr="placeholder:search.placeholder"
                placeholder="הקלידו כדי לחפש" name="search-box" type="text" autocomplete="off" />
        </div>
        <div class="dropDown scrollStyle"></div>
    </div>
</body>

</html>