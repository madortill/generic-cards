(()=>{"use strict";var t={969:t=>{let e=0;t.exports={incr:()=>++e,decr:()=>--e,curr:()=>e}},187:t=>{t.exports=(t,e,r="")=>{const n=/url\(['"]?#([\w:.-]+)['"]?\)/g,o=/#([\w:.-]+)/g;return e.match(n)&&(e=e.replace(n,(function(e,r){return t[r]?`url(#${t[r]})`:e}))),["href","xlink:href"].includes(r)&&e.match(o)&&(e=e.replace(o,(function(e,r){return t[r]?`#${t[r]}`:e}))),e}},383:t=>{t.exports=(t,e,r)=>{const n=new RegExp("([^\r\n,{}]+)(,(?=[^}]*{)|s*{)","g");return t.replace(n,(function(t,n,o){if(n.match(/^\s*(@media|@.*keyframes|to|from|@font-face|1?[0-9]?[0-9])/))return n+o;const a=n.match(/#(\w+)/);return a&&r[a[1]]&&(n=n.replace(a[0],`#${r[a[1]]}`)),(n=n.replace(/^(\s*)/,"$1"+e+" "))+o}))}},783:(t,e,r)=>{function n(t){return new Promise(((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)}))}function o(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const o=n(r);return(t,r)=>o.then((n=>r(n.transaction(e,t).objectStore(e))))}let a;function i(){return a||(a=o("keyval-store","keyval")),a}function s(t,e=i()){return e("readonly",(e=>n(e.get(t))))}function c(t,e,r=i()){return r("readwrite",(r=>(r.put(e,t),n(r.transaction))))}function u(t,e=i()){return e("readwrite",(e=>(t.forEach((t=>e.put(t[1],t[0]))),n(e.transaction))))}function l(t,e=i()){return e("readonly",(e=>Promise.all(t.map((t=>n(e.get(t)))))))}function d(t,e,r=i()){return r("readwrite",(r=>new Promise(((o,a)=>{r.get(t).onsuccess=function(){try{r.put(e(this.result),t),o(n(r.transaction))}catch(t){a(t)}}}))))}function f(t,e=i()){return e("readwrite",(e=>(e.delete(t),n(e.transaction))))}function h(t,e=i()){return e("readwrite",(e=>(t.forEach((t=>e.delete(t))),n(e.transaction))))}function b(t=i()){return t("readwrite",(t=>(t.clear(),n(t.transaction))))}function g(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},n(t.transaction)}function p(t=i()){return t("readonly",(t=>{if(t.getAllKeys)return n(t.getAllKeys());const e=[];return g(t,(t=>e.push(t.key))).then((()=>e))}))}function y(t=i()){return t("readonly",(t=>{if(t.getAll)return n(t.getAll());const e=[];return g(t,(t=>e.push(t.value))).then((()=>e))}))}function m(t=i()){return t("readonly",(e=>{if(e.getAll&&e.getAllKeys)return Promise.all([n(e.getAllKeys()),n(e.getAll())]).then((([t,e])=>t.map(((t,r)=>[t,e[r]]))));const r=[];return t("readonly",(t=>g(t,(t=>r.push([t.key,t.value]))).then((()=>r))))}))}r.r(e),r.d(e,{clear:()=>b,createStore:()=>o,del:()=>f,delMany:()=>h,entries:()=>m,get:()=>s,getMany:()=>l,keys:()=>p,promisifyRequest:()=>n,set:()=>c,setMany:()=>u,update:()=>d,values:()=>y})}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};const{get:n,set:o,del:a,entries:i}=r(783),s=r(383),c=r(187),u=r(969),l=[],d={},f=(t,e,r)=>{const{enableJs:n,disableUniqueIds:o,disableCssScoping:a,spriteIconId:i}=e,f=!!i,h=(new DOMParser).parseFromString(r,"text/html"),b=f?h.getElementById(i):h.querySelector("svg"),g=(()=>{if(l.length)return l;for(const t in document.body)t.startsWith("on")&&l.push(t);return l.push("onbegin","onend","onrepeat"),l.push("onfocusin","onfocusout","onbounce","onfinish","onshow"),l})(),p=d[t.getAttribute("data-id")]||new Set,y=t.getAttribute("data-id")||`svg-loader_${u.incr()}`,m={};if(o||Array.from(b.querySelectorAll("[id]")).forEach((t=>{const e=t.getAttribute("id"),r=`${e}_${u.incr()}`;t.setAttribute("id",r),m[e]=r})),Array.from(b.querySelectorAll("*")).concat(b).forEach((e=>{if("script"===e.tagName){if(e.remove(),!n)return;{const r=document.createElement("script");r.appendChild(e.childNodes[0]),t.appendChild(r)}}const r=[];for(let t=0;t<e.attributes.length;t++){const{name:o,value:a}=e.attributes[t],i=c(m,a,o);a!==i&&e.setAttribute(o,i),!g.includes(o.toLowerCase())||n?["href","xlink:href","values"].includes(o)&&a.startsWith("javascript")&&!n&&r.push(o):r.push(o)}if(r.forEach((t=>e.removeAttribute(t))),"style"===e.tagName&&!a){let t=s(e.innerHTML,`[data-id="${y}"]`,m);t=c(m,t),t!==e.innerHTML&&(e.innerHTML=t)}})),t.innerHTML=i?b.outerHTML:b.innerHTML,!f)for(let e=0;e<b.attributes.length;e++){const{name:r,value:n}=b.attributes[e];t.getAttribute(r)&&!p.has(r)||(p.add(r),t.setAttribute(r,n))}d[y]=p,t.setAttribute("data-id",y);const w=new CustomEvent("iconload",{bubbles:!0});if(t.dispatchEvent(w),t.getAttribute("oniconload")){t.setAttribute("onauxclick",t.getAttribute("oniconload"));const e=new CustomEvent("auxclick",{bubbles:!1,view:window});t.dispatchEvent(e),t.removeAttribute("onauxclick")}},h={},b={},g=async t=>{const e=new URL(t.getAttribute("data-src"),window.location),r=e.toString().replace(e.hash,""),i=e.hash.replace("#",""),s=t.getAttribute("data-cache"),c="enabled"===t.getAttribute("data-js"),u="disabled"===t.getAttribute("data-unique-ids"),l="disabled"===t.getAttribute("data-css-scoping"),d=await(async t=>{let e;try{e=await n(`loader_${t}`)}catch(t){}if(!e)try{e=localStorage.getItem(`loader_${t}`)}catch(t){}if(e)return e=JSON.parse(e),Date.now()<e.expiry?e.data:void a(`loader_${t}`)})(r),p="disabled"!==s,y=f.bind(self,t,{enableJs:c,disableUniqueIds:u,disableCssScoping:l,spriteIconId:i});if(b[r]||p&&d){const t=b[r]||d;y(t)}else{if(h[r])return void setTimeout((()=>g(t)),20);h[r]=!0,fetch(r).then((t=>{if(!t.ok)throw Error(`Request for '${r}' returned ${t.status} (${t.statusText})`);return t.text()})).then((t=>{const e=t.toLowerCase().trim();if(!(e.startsWith("<svg")||e.startsWith("<?xml")||e.startsWith("<!doctype")))throw Error(`Resource '${r}' returned an invalid SVG file`);p&&(async(t,e,r)=>{const n=parseInt(r,10),a=JSON.stringify({data:e,expiry:Date.now()+(Number.isNaN(n)?2592e6:1e3*n)});try{await o(`loader_${t}`,a)}catch(e){try{localStorage.setItem(`loader_${t}`,a)}catch(t){console.warn("Failed to set cache: ",t)}}})(r,t,s),b[r]=t,y(t)})).catch((e=>{console.error(e);const r=new CustomEvent("iconloaderror",{bubbles:!0,detail:e.toString()});t.dispatchEvent(r),t.getAttribute("oniconloaderror")&&Function("error",t.getAttribute("oniconloaderror"))(e)})).finally((()=>{delete h[r]}))}};let p;window.IntersectionObserver&&(p=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(g(t.target),p.unobserve(t.target))}))}),{rootMargin:"1200px"}));const y=[];function m(){Array.from(document.querySelectorAll("svg[data-src]:not([data-id])")).forEach((t=>{-1===y.indexOf(t)&&(y.push(t),"lazy"===t.getAttribute("data-loading")?p.observe(t):g(t))}))}let w=!1;if(window.addEventListener){const v=setInterval((()=>{m()}),100);function A(){clearInterval(v),m(),w||(w=!0,new MutationObserver((t=>{t.some((t=>Array.from(t.addedNodes).some((t=>t.nodeType===Node.ELEMENT_NODE&&(t.getAttribute("data-src")&&!t.getAttribute("data-id")||t.querySelector("svg[data-src]:not([data-id])"))))))&&m(),t.forEach((t=>{"attributes"===t.type&&g(t.target)}))})).observe(document.documentElement,{attributeFilter:["data-src"],attributes:!0,childList:!0,subtree:!0}))}"interactive"===document.readyState?A():window.addEventListener("DOMContentLoaded",(()=>{A()}))}window.SVGLoader={},window.SVGLoader.destroyCache=async()=>{try{const t=await i();for(const e of t)e[0].startsWith("loader_")&&await a(e[0])}catch(t){}Object.keys(localStorage).forEach((t=>{t.startsWith("loader_")&&localStorage.removeItem(t)}))}})();
//# sourceMappingURL=svg-loader.min.js.map